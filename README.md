# 德州扑克计分板 (Texas Poker Scoreboard)

这是一个专为线下朋友聚会设计的德州扑克计分工具，支持多人通过手机浏览器连接，实时同步牌局状态。

## 功能特点
- **多人联网**：手机扫码或输入网址即可加入房间。
- **自动盲注**：一键开始新牌局，系统自动扣除小盲/大盲，并轮转庄家位置。
- **简易结算**：点击赢家头像，输入底池金额，自动分配筹码。
- **历史记录**：查看每局盈亏详情。

## 目录结构
- `backend/`: 后端服务器 (Node.js + Socket.io)
- `frontend/`: 前端应用 (Uni-app + Vue 3)

---

## 快速开始

### 1. 启动后端服务器
你需要安装 [Node.js](https://nodejs.org/)。

打开终端（命令行），执行以下命令：

```bash
cd backend
npm install
node server.js
```
如果看到 `Server running on port 3000`，说明服务器启动成功。

### 2. 运行前端应用

**方式 A：使用命令行 (推荐)**
新建一个终端窗口：

```bash
cd frontend
npm install
npm run dev:h5
```
运行成功后，会显示一个本地地址（如 `http://localhost:5173`），在浏览器打开即可。

**方式 B：使用 HBuilderX**
1. 下载并安装 HBuilderX。
2. 将 `frontend` 文件夹拖入 HBuilderX。
3. 点击菜单栏 "运行" -> "运行到浏览器" -> "Chrome"。

### 3. 手机连接 (朋友联机)
1. 确保你的电脑和朋友的手机连接在**同一个 WiFi** 下。
2. 查看电脑的局域网 IP 地址：
   - Windows: 在终端输入 `ipconfig`，找到 IPv4 地址 (例如 `192.168.1.5`)。
   - Mac: 在终端输入 `ifconfig`。
3. 在电脑浏览器打开前端页面，输入昵称和房间号（如 888）。
4. **关键一步**：在页面上的“服务器地址”栏，输入 `http://<你的电脑IP>:3000` (例如 `http://192.168.1.5:3000`)。
5. 点击“创建房间”。
6. 把前端页面的网址（例如 `http://192.168.1.5:5173`）发给朋友，或者让他们在手机浏览器输入。
7. 朋友打开页面后，同样输入服务器地址 `http://<你的电脑IP>:3000`，输入昵称和相同的房间号，点击“加入房间”。

---

## 游戏流程
1. **入座**：点击桌上的 "+" 号，选择空位坐下。
2. **开局**：所有人坐好后，点击底部的 **"开始新局 (扣盲)"** 按钮。
   - 系统会自动扣除小盲(10)和大盲(20)，并标记 D/SB/BB。
3. **打牌**：线下使用真实扑克牌进行游戏。
4. **结算**：
   - 牌局结束，确定赢家。
   - 点击赢家的头像。
   - 输入底池总额（或确认默认显示的金额）。
   - 点击“确定赢取”，筹码自动划转。
5. **下一局**：再次点击“开始新局”，庄家顺时针轮转。

## 注意事项
- 这是一个纯内存服务器，**重启服务器会导致数据丢失**（房间和筹码重置）。
- 建议由一人（房主）负责点击“开始新局”和“结算”，避免操作冲突。
